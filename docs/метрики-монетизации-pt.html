<!DOCTYPE html>
<html lang="ru-RU" xml:lang="ru-RU">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Метрики монетизации pt.3 | Методы анализа больших данных</title>
  <meta name="description" content="Метрики монетизации pt.3 | Методы анализа больших данных" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Метрики монетизации pt.3 | Методы анализа больших данных" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Метрики монетизации pt.3 | Методы анализа больших данных" />
  
  
  

<meta name="author" content="Ph.A.Upravitelev" />


<meta name="date" content="2023-11-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="c5_monetization.html"/>
<link rel="next" href="unit-экономика.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">mar 221f</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Intro</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html"><i class="fa fa-check"></i>О курсе и аналитиках</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#запись-занятия"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#обо-мне"><i class="fa fa-check"></i>Обо мне</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#contacts"><i class="fa fa-check"></i>Contacts</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#о-курсе"><i class="fa fa-check"></i>О курсе</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#темы-лекций"><i class="fa fa-check"></i>темы лекций</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#факультативно"><i class="fa fa-check"></i>факультативно</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#формы-контроля"><i class="fa fa-check"></i>формы контроля</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#виды-аналитиков"><i class="fa fa-check"></i>Виды аналитиков</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#data-scientists"><i class="fa fa-check"></i>data scientists</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#web-аналитика"><i class="fa fa-check"></i>web-аналитика</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#маркетинговая-аналитика"><i class="fa fa-check"></i>маркетинговая аналитика</a></li>
<li><a href="c1_intro.html#section" id="toc-section"></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#продуктовая-аналитика"><i class="fa fa-check"></i>Продуктовая аналитика</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#что-такое-продукт"><i class="fa fa-check"></i>что такое продукт</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#cxux-исследователи"><i class="fa fa-check"></i>CX/UX-исследователи</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#структура-команды-разработки"><i class="fa fa-check"></i>структура команды разработки</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#роли-продуктовых-аналитиков"><i class="fa fa-check"></i>роли продуктовых аналитиков</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#стадии-развития-продукта"><i class="fa fa-check"></i>Стадии развития продукта</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#этапы-жизни"><i class="fa fa-check"></i>этапы жизни</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#технические-этапы"><i class="fa fa-check"></i>технические этапы</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#бизнес-модели"><i class="fa fa-check"></i>Бизнес-модели</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#компоненты"><i class="fa fa-check"></i>компоненты</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#варианты"><i class="fa fa-check"></i>варианты</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#полезные-материалы"><i class="fa fa-check"></i>Полезные материалы</a></li>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#домашнее-задание"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="c1_intro.html"><a href="c1_intro.html#для-тех-кто-не-был-на-прошлом-курсе"><i class="fa fa-check"></i>Для тех, кто не был на прошлом курсе</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html"><i class="fa fa-check"></i>Метрики вовлечения pt1</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#запись-занятия-1"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#aarrr-фреймворк"><i class="fa fa-check"></i>AARRR фреймворк</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#user-aquisition"><i class="fa fa-check"></i>User Aquisition</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#процесс-привлечения-пользователей"><i class="fa fa-check"></i>Процесс привлечения пользователей</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#маркетинговая-воронка-в-мобильных-приложениях"><i class="fa fa-check"></i>Маркетинговая воронка в мобильных приложениях</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#новый-пользователь"><i class="fa fa-check"></i>Новый пользователь</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#активность-и-вовлечение"><i class="fa fa-check"></i>Активность и вовлечение</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#dau-wau-mau"><i class="fa fa-check"></i>DAU, WAU, MAU</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#stickness-sticky-factor"><i class="fa fa-check"></i>Stickness / Sticky factor</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#retention-rate"><i class="fa fa-check"></i>Retention rate</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#churn-rate"><i class="fa fa-check"></i>Churn rate</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#sessions-per-day"><i class="fa fa-check"></i>Sessions per day</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#полезные-материалы-1"><i class="fa fa-check"></i>Полезные материалы</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#домашнее-задание-1"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#level-1-iatytd"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#level-2-hntr"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#level-3-hmp"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#level-4-uv"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt1.html"><a href="метрики-вовлечения-pt1.html#level-5-n"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html"><i class="fa fa-check"></i>Метрики вовлечения pt2</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#запись-занятия-2"><i class="fa fa-check"></i>Запись занятия</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-2-hntr-1"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-4-uv-1"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-5-n-1"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#расчет-retention"><i class="fa fa-check"></i>Расчет retention</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#домашнее-задание-2"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-1-iatytd-1"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-2-hntr-2"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-3-hmp-1"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-4-uv-2"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="метрики-вовлечения-pt2.html"><a href="метрики-вовлечения-pt2.html#level-5-n-2"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html"><i class="fa fa-check"></i>Метрики монетизации pt.1</a>
<ul>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#запись-занятия-3"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#разбор-домашнего-задания"><i class="fa fa-check"></i>Разбор домашнего задания</a>
<ul>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-2-hntr-3"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-3-hmp-2"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-4-uv-3"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-5-n-3"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#платежные-метрики"><i class="fa fa-check"></i>Платежные метрики</a>
<ul>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#gross-net"><i class="fa fa-check"></i>Gross / Net</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#конверсия"><i class="fa fa-check"></i>Конверсия</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#полезные-материалы-2"><i class="fa fa-check"></i>Полезные материалы</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#домашнее-задание-3"><i class="fa fa-check"></i>Домашнее задание</a>
<ul>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-1-iatytd-2"><i class="fa fa-check"></i>level 1 (IATYTD)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-2-hntr-4"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-3-hmp-3"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-4-uv-4"><i class="fa fa-check"></i>level 4 (UV)</a></li>
<li class="chapter" data-level="" data-path="c4_monetization.html"><a href="c4_monetization.html#level-5-n-4"><i class="fa fa-check"></i>level 5 (N)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="c5_monetization.html"><a href="c5_monetization.html"><i class="fa fa-check"></i>Метрики монетизации pt.2</a>
<ul>
<li class="chapter" data-level="" data-path="c5_monetization.html"><a href="c5_monetization.html#запись-занятия-4"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="c5_monetization.html"><a href="c5_monetization.html#разбор-домашнего-задания-1"><i class="fa fa-check"></i>Разбор домашнего задания</a>
<ul>
<li class="chapter" data-level="" data-path="c5_monetization.html"><a href="c5_monetization.html#level-2-hntr-5"><i class="fa fa-check"></i>level 2 (HNTR)</a></li>
<li class="chapter" data-level="" data-path="c5_monetization.html"><a href="c5_monetization.html#level-3-hmp-4"><i class="fa fa-check"></i>level 3 (HMP)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="c5_monetization.html"><a href="c5_monetization.html#воронка-платежей"><i class="fa fa-check"></i>Воронка платежей</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html"><i class="fa fa-check"></i>Метрики монетизации pt.3</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html#запись-занятия-5"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html#arpu-arppu"><i class="fa fa-check"></i>ARPU / ARPPU</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html#задача-1-1"><i class="fa fa-check"></i>задача 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html#ltv"><i class="fa fa-check"></i>LTV</a>
<ul>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html#задача-2-1"><i class="fa fa-check"></i>задача 2</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="метрики-монетизации-pt.html"><a href="метрики-монетизации-pt.html#полезные-материалы-3"><i class="fa fa-check"></i>Полезные материалы</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html"><i class="fa fa-check"></i>Unit-экономика</a>
<ul>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#запись-занятия-6"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#unit-экономика-1"><i class="fa fa-check"></i>Unit-экономика</a>
<ul>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#что-это-и-зачем"><i class="fa fa-check"></i>Что это и зачем</a></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#юниты-масштабирования"><i class="fa fa-check"></i>Юниты масштабирования</a></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#основные-термины"><i class="fa fa-check"></i>Основные термины</a></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#пример"><i class="fa fa-check"></i>Пример</a></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#шаблоны-расчета"><i class="fa fa-check"></i>Шаблоны расчета</a></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#unit-экономика-для-аналитиков"><i class="fa fa-check"></i>Unit-экономика для аналитиков</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="unit-экономика.html"><a href="unit-экономика.html#дополнительные-материалы"><i class="fa fa-check"></i>Дополнительные материалы</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html"><i class="fa fa-check"></i>Homework 1</a>
<ul>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#общие-замечания"><i class="fa fa-check"></i>Общие замечания</a></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#описание-данных"><i class="fa fa-check"></i>Описание данных</a></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#задание-1"><i class="fa fa-check"></i>Задание 1</a></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#задание-2"><i class="fa fa-check"></i>Задание 2</a>
<ul>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#описание-приложения"><i class="fa fa-check"></i>Описание приложения</a></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#changelog-изменения-в-функционале-и-исправления-ошибок"><i class="fa fa-check"></i>Changelog (изменения в функционале и исправления ошибок):</a></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#задание"><i class="fa fa-check"></i>Задание</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#задание-3"><i class="fa fa-check"></i>Задание 3</a></li>
<li class="chapter" data-level="" data-path="homework-1.html"><a href="homework-1.html#задание-4"><i class="fa fa-check"></i>Задание 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ux.html"><a href="ux.html"><i class="fa fa-check"></i>UX intro</a>
<ul>
<li class="chapter" data-level="" data-path="ux.html"><a href="ux.html#запись-занятия-7"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="ux.html"><a href="ux.html#полезные-ссылки"><i class="fa fa-check"></i>Полезные ссылки</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html"><i class="fa fa-check"></i>SQL</a>
<ul>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#запись-занятия-8"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#dbeaver"><i class="fa fa-check"></i>DBeaver</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#параметры-подключений"><i class="fa fa-check"></i>Параметры подключений</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#sql-1"><i class="fa fa-check"></i>SQL</a>
<ul>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#main-structure"><i class="fa fa-check"></i>main structure</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#simple-query"><i class="fa fa-check"></i>simple query</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#select-columns-selection"><i class="fa fa-check"></i>select: columns selection</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#where-rows-selection"><i class="fa fa-check"></i>where: rows selection</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#group-by-aggregations"><i class="fa fa-check"></i>group by: aggregations</a></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#join"><i class="fa fa-check"></i>join</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#r-connectors"><i class="fa fa-check"></i>r connectors</a>
<ul>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#подключение-и-просмотр-бд-из-rstudio"><i class="fa fa-check"></i>Подключение и просмотр БД из RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql.html"><a href="sql.html#полезные-ссылки-1"><i class="fa fa-check"></i>Полезные ссылки</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html"><i class="fa fa-check"></i>SQL advanced</a>
<ul>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#запись-занятия-9"><i class="fa fa-check"></i>Запись занятия</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#части-sql"><i class="fa fa-check"></i>Части SQL</a>
<ul>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#data-definition-language"><i class="fa fa-check"></i>Data Definition Language</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#data-manipulation-language"><i class="fa fa-check"></i>Data Manipulation Language</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#data-control-language"><i class="fa fa-check"></i>Data Control Language</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#transaction-control-language"><i class="fa fa-check"></i>Transaction Control Language</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#data-types"><i class="fa fa-check"></i>data types</a>
<ul>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#list"><i class="fa fa-check"></i>list</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#numeric-types"><i class="fa fa-check"></i>Numeric types</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#character-types"><i class="fa fa-check"></i>Character Types</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#datetime-types"><i class="fa fa-check"></i>Date/Time Types</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#type-conversion"><i class="fa fa-check"></i>type Conversion</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#values"><i class="fa fa-check"></i>values</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#subquery"><i class="fa fa-check"></i>subquery</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#common-tables-expressions"><i class="fa fa-check"></i>Common tables expressions</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#select-experiments"><i class="fa fa-check"></i>select experiments</a>
<ul>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#functions"><i class="fa fa-check"></i>functions</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#case"><i class="fa fa-check"></i>case</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#filter"><i class="fa fa-check"></i>filter</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#window-functions"><i class="fa fa-check"></i>Window functions</a>
<ul>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#row_number-over"><i class="fa fa-check"></i>row_number() over ()</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#over-partition-by"><i class="fa fa-check"></i>over (partition by)</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#total-sum"><i class="fa fa-check"></i>total sum</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#cumulative-sum"><i class="fa fa-check"></i>cumulative sum</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#explain"><i class="fa fa-check"></i>explain</a>
<ul>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#plan"><i class="fa fa-check"></i>plan</a></li>
<li class="chapter" data-level="" data-path="sql-advanced.html"><a href="sql-advanced.html#analyze"><i class="fa fa-check"></i>analyze</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Методы анализа больших данных</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="метрики-монетизации-pt.3" class="section level1 unnumbered hasAnchor">
<h1>Метрики монетизации pt.3<a href="метрики-монетизации-pt.html#метрики-монетизации-pt.3" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="запись-занятия-5" class="section level2 unnumbered hasAnchor">
<h2>Запись занятия<a href="метрики-монетизации-pt.html#запись-занятия-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_AeWA3nmHrI?si=kaA90fsn1qbHyFxN" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</div>
<div id="arpu-arppu" class="section level2 unnumbered hasAnchor">
<h2>ARPU / ARPPU<a href="метрики-монетизации-pt.html#arpu-arppu" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Averange revenue per user - сумма платежей за определенный период, деленная на общее количество пользователей когорты. Средний чек, наверное, одна из самых важных метрик для оперирования продуктом, так как изучение структуры ARPU позволяет понять, за что платят пользователи и как можно улучшить эту метрику и так далее.</p>
<p>Average revenue per paying user - сумма платежей за определенный период, деленная на количество платящих пользователей когорты.</p>
<p>Обе метрики считаются в определенном окне (количестве дней от инсталла) - обычно 7, 28 или 30 дней. Это необходимо для того, чтобы учесть ситуацию, когда пользователи одной когорты (месячной, например) могли прожить разное количество дней в приложении. Или когда необходимо сравнить разные каналы привлечения, рекламные кампании или группы аб-тестов.</p>
<div id="задача-1-1" class="section level3 unnumbered hasAnchor">
<h3>задача 1<a href="метрики-монетизации-pt.html#задача-1-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Считаем статистики в окне 7 дней от инсталла:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="метрики-монетизации-pt.html#cb30-1" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb30-2"><a href="метрики-монетизации-pt.html#cb30-2" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb30-3"><a href="метрики-монетизации-pt.html#cb30-3" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb30-4"><a href="метрики-монетизации-pt.html#cb30-4" tabindex="-1"></a></span>
<span id="cb30-5"><a href="метрики-монетизации-pt.html#cb30-5" tabindex="-1"></a><span class="co"># импортируем данные</span></span>
<span id="cb30-6"><a href="метрики-монетизации-pt.html#cb30-6" tabindex="-1"></a>installs <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&#39;https://gitlab.com/hse_mar/mar211f/-/raw/main/data/installs.csv&#39;</span>) </span>
<span id="cb30-7"><a href="метрики-монетизации-pt.html#cb30-7" tabindex="-1"></a>payments <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&#39;https://gitlab.com/hse_mar/mar211f/-/raw/main/data/payments_custom.csv&#39;</span>)</span>
<span id="cb30-8"><a href="метрики-монетизации-pt.html#cb30-8" tabindex="-1"></a></span>
<span id="cb30-9"><a href="метрики-монетизации-pt.html#cb30-9" tabindex="-1"></a><span class="co"># перекодируем медиасорсы</span></span>
<span id="cb30-10"><a href="метрики-монетизации-pt.html#cb30-10" tabindex="-1"></a>installs[<span class="fu">is.na</span>(media_source), media_source <span class="sc">:=</span> <span class="st">&#39;organic&#39;</span>]</span>
<span id="cb30-11"><a href="метрики-монетизации-pt.html#cb30-11" tabindex="-1"></a>installs[media_source <span class="sc">==</span> <span class="st">&#39;other&#39;</span>, media_source <span class="sc">:=</span> <span class="st">&#39;organic&#39;</span>]</span>
<span id="cb30-12"><a href="метрики-монетизации-pt.html#cb30-12" tabindex="-1"></a></span>
<span id="cb30-13"><a href="метрики-монетизации-pt.html#cb30-13" tabindex="-1"></a><span class="co"># выбираем первый инсталл</span></span>
<span id="cb30-14"><a href="метрики-монетизации-pt.html#cb30-14" tabindex="-1"></a>installs <span class="ot">&lt;-</span> installs[<span class="fu">order</span>(user_pseudo_id, dt)]</span>
<span id="cb30-15"><a href="метрики-монетизации-pt.html#cb30-15" tabindex="-1"></a>installs <span class="ot">&lt;-</span> installs[, .SD[<span class="dv">1</span>], by <span class="ot">=</span> user_pseudo_id]</span>
<span id="cb30-16"><a href="метрики-монетизации-pt.html#cb30-16" tabindex="-1"></a></span>
<span id="cb30-17"><a href="метрики-монетизации-pt.html#cb30-17" tabindex="-1"></a><span class="co"># берем платежи только новых пользователей</span></span>
<span id="cb30-18"><a href="метрики-монетизации-pt.html#cb30-18" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments[user_pseudo_id <span class="sc">%in%</span> installs[, <span class="fu">unique</span>(user_pseudo_id)]]</span>
<span id="cb30-19"><a href="метрики-монетизации-pt.html#cb30-19" tabindex="-1"></a></span>
<span id="cb30-20"><a href="метрики-монетизации-pt.html#cb30-20" tabindex="-1"></a><span class="co"># прикрепляем к ним медиасорсы</span></span>
<span id="cb30-21"><a href="метрики-монетизации-pt.html#cb30-21" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> <span class="fu">merge</span>(</span>
<span id="cb30-22"><a href="метрики-монетизации-pt.html#cb30-22" tabindex="-1"></a>  payments_new,</span>
<span id="cb30-23"><a href="метрики-монетизации-pt.html#cb30-23" tabindex="-1"></a>  installs[, <span class="fu">list</span>(user_pseudo_id, dt, media_source)],</span>
<span id="cb30-24"><a href="метрики-монетизации-pt.html#cb30-24" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">&#39;user_pseudo_id&#39;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span></span>
<span id="cb30-25"><a href="метрики-монетизации-pt.html#cb30-25" tabindex="-1"></a>)</span>
<span id="cb30-26"><a href="метрики-монетизации-pt.html#cb30-26" tabindex="-1"></a></span>
<span id="cb30-27"><a href="метрики-монетизации-pt.html#cb30-27" tabindex="-1"></a><span class="co"># вычисляем лайфтайм</span></span>
<span id="cb30-28"><a href="метрики-монетизации-pt.html#cb30-28" tabindex="-1"></a>payments_new[, lifetime <span class="sc">:=</span> pay_dt <span class="sc">-</span> dt]</span>
<span id="cb30-29"><a href="метрики-монетизации-pt.html#cb30-29" tabindex="-1"></a></span>
<span id="cb30-30"><a href="метрики-монетизации-pt.html#cb30-30" tabindex="-1"></a><span class="co"># корректируем на окно лайфтайма</span></span>
<span id="cb30-31"><a href="метрики-монетизации-pt.html#cb30-31" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments_new[dt <span class="sc">&lt;</span> <span class="st">&#39;2022-07-01&#39;</span>]</span>
<span id="cb30-32"><a href="метрики-монетизации-pt.html#cb30-32" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments_new[lifetime <span class="sc">&lt;</span> <span class="dv">7</span>]</span>
<span id="cb30-33"><a href="метрики-монетизации-pt.html#cb30-33" tabindex="-1"></a></span>
<span id="cb30-34"><a href="метрики-монетизации-pt.html#cb30-34" tabindex="-1"></a><span class="co"># отсюда надо считать количество денег и платящих</span></span>
<span id="cb30-35"><a href="метрики-монетизации-pt.html#cb30-35" tabindex="-1"></a><span class="co"># по сути, просто группировка по медиасорсу</span></span>
<span id="cb30-36"><a href="метрики-монетизации-pt.html#cb30-36" tabindex="-1"></a></span>
<span id="cb30-37"><a href="метрики-монетизации-pt.html#cb30-37" tabindex="-1"></a>payments_new_stat <span class="ot">&lt;-</span> payments_new[, <span class="fu">list</span>(</span>
<span id="cb30-38"><a href="метрики-монетизации-pt.html#cb30-38" tabindex="-1"></a>  <span class="at">payers_7 =</span> <span class="fu">uniqueN</span>(user_pseudo_id),</span>
<span id="cb30-39"><a href="метрики-монетизации-pt.html#cb30-39" tabindex="-1"></a>  <span class="at">gross_7 =</span> <span class="fu">sum</span>(gross),</span>
<span id="cb30-40"><a href="метрики-монетизации-pt.html#cb30-40" tabindex="-1"></a>  <span class="at">n_purchases =</span> .N</span>
<span id="cb30-41"><a href="метрики-монетизации-pt.html#cb30-41" tabindex="-1"></a>), by <span class="ot">=</span> media_source]</span>
<span id="cb30-42"><a href="метрики-монетизации-pt.html#cb30-42" tabindex="-1"></a></span>
<span id="cb30-43"><a href="метрики-монетизации-pt.html#cb30-43" tabindex="-1"></a></span>
<span id="cb30-44"><a href="метрики-монетизации-pt.html#cb30-44" tabindex="-1"></a><span class="co"># считаем, сколько всего пользователей пришло</span></span>
<span id="cb30-45"><a href="метрики-монетизации-pt.html#cb30-45" tabindex="-1"></a>installs_stat <span class="ot">&lt;-</span> installs[, <span class="fu">list</span>(<span class="at">total_users =</span> <span class="fu">uniqueN</span>(user_pseudo_id)), </span>
<span id="cb30-46"><a href="метрики-монетизации-pt.html#cb30-46" tabindex="-1"></a>                          by <span class="ot">=</span> media_source]</span>
<span id="cb30-47"><a href="метрики-монетизации-pt.html#cb30-47" tabindex="-1"></a></span>
<span id="cb30-48"><a href="метрики-монетизации-pt.html#cb30-48" tabindex="-1"></a>payments_new_stat <span class="ot">&lt;-</span> <span class="fu">merge</span>(</span>
<span id="cb30-49"><a href="метрики-монетизации-pt.html#cb30-49" tabindex="-1"></a>  installs_stat,</span>
<span id="cb30-50"><a href="метрики-монетизации-pt.html#cb30-50" tabindex="-1"></a>  payments_new_stat,</span>
<span id="cb30-51"><a href="метрики-монетизации-pt.html#cb30-51" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">&#39;media_source&#39;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span></span>
<span id="cb30-52"><a href="метрики-монетизации-pt.html#cb30-52" tabindex="-1"></a>)</span>
<span id="cb30-53"><a href="метрики-монетизации-pt.html#cb30-53" tabindex="-1"></a></span>
<span id="cb30-54"><a href="метрики-монетизации-pt.html#cb30-54" tabindex="-1"></a>payments_new_stat[, ARPU_7 <span class="sc">:=</span> <span class="fu">round</span>(gross_7 <span class="sc">/</span> total_users, <span class="dv">2</span>)]</span>
<span id="cb30-55"><a href="метрики-монетизации-pt.html#cb30-55" tabindex="-1"></a>payments_new_stat[, ARPPU_7 <span class="sc">:=</span> <span class="fu">round</span>(gross_7 <span class="sc">/</span> payers_7, <span class="dv">2</span>)]</span>
<span id="cb30-56"><a href="метрики-монетизации-pt.html#cb30-56" tabindex="-1"></a>payments_new_stat[, conv_7 <span class="sc">:=</span> <span class="fu">round</span>(payers_7 <span class="sc">/</span> total_users, <span class="dv">3</span>)]</span>
<span id="cb30-57"><a href="метрики-монетизации-pt.html#cb30-57" tabindex="-1"></a>payments_new_stat[, avg_purchase <span class="sc">:=</span> <span class="fu">round</span>(gross_7 <span class="sc">/</span> n_purchases, <span class="dv">1</span>)]</span>
<span id="cb30-58"><a href="метрики-монетизации-pt.html#cb30-58" tabindex="-1"></a>payments_new_stat[, purchases_per_user <span class="sc">:=</span> <span class="fu">round</span>(n_purchases <span class="sc">/</span> payers_7, <span class="dv">1</span>)]</span>
<span id="cb30-59"><a href="метрики-монетизации-pt.html#cb30-59" tabindex="-1"></a></span>
<span id="cb30-60"><a href="метрики-монетизации-pt.html#cb30-60" tabindex="-1"></a>payments_new_stat</span></code></pre></div>
<pre><code>##         media_source total_users payers_7  gross_7 n_purchases ARPU_7 ARPPU_7
## 1:      Facebook Ads        1297       40   612.47          64   0.47   15.31
## 2:      applovin_int       36818      878 17352.16        2161   0.47   19.76
## 3: googleadwords_int        7774      122  2092.53         247   0.27   17.15
## 4:           organic       57690      753 16699.53        1968   0.29   22.18
## 5:      unityads_int       22017      206  2990.22         477   0.14   14.52
##    conv_7 avg_purchase purchases_per_user
## 1:  0.031          9.6                1.6
## 2:  0.024          8.0                2.5
## 3:  0.016          8.5                2.0
## 4:  0.013          8.5                2.6
## 5:  0.009          6.3                2.3</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="метрики-монетизации-pt.html#cb32-1" tabindex="-1"></a><span class="co"># kable_classic(kbl(payments_new_stat))</span></span>
<span id="cb32-2"><a href="метрики-монетизации-pt.html#cb32-2" tabindex="-1"></a><span class="co"># kable_material(kbl(payments_new_stat))</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div id="ltv" class="section level2 unnumbered hasAnchor">
<h2>LTV<a href="метрики-монетизации-pt.html#ltv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lifetime value - общая сумма платежей, которые сделает пользователь за всю свою жизнь в приложении. Так как для каждого пользователя обычно сложно предсказать, сколько он проживет, то считается как кумулятивный средний чек когорты - общая накопленная сумма платежей, сделанная к определенному дню от инсталла, деленная на количество пользователей когорты. Кривая LTV/cumARPU сходится к общему значению ARPU по всей выборке за все время жизни когорты.</p>
<p>LTV, фактически, одна из ключевых метрик, так как график LTV/cumARPU позволяет оценить динамику платежей когорты, сделать какие-то предсказания. Отношение LTV и CPI позволяют оценить эффективность рекламных кампаний. Например, за 90 дней от инсталла платежами пользователей возвращается 40-60% затраченных на привлечение денег. На 270-360 - все затраченные, и дальнейшие платежи составляют чистую прибыль (абстрактный пример, в реальности периоды сильно зависят от продукта). Соответственно, если даже в перспективе значение LTV когорты (сколько заплатит каждый привлеченный пользователь) не превысит CPI (сколько стоило привлечение каждого пользователя) когорты, то такая рекламная кампания убыточна и может быть полезна только для увеличение объема пользователей.</p>
<div id="задача-2-1" class="section level3 unnumbered hasAnchor">
<h3>задача 2<a href="метрики-монетизации-pt.html#задача-2-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Посчитать кумулятивное ARPU 30 дня по июньской когорте</p>
<p>Алгоритм
- посчитать сумму гросса по дням лайфтайма
- посчитать кумулятивную сумму этого гросса c помощью <code>cumsum()</code>
- поделить кумулятивную сумму на общее количество пользователей когорты
- нарисовать график</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="метрики-монетизации-pt.html#cb33-1" tabindex="-1"></a><span class="co"># пересоздаем датасет, так как раньше отрезали только 7 дней</span></span>
<span id="cb33-2"><a href="метрики-монетизации-pt.html#cb33-2" tabindex="-1"></a><span class="co"># берем платежи только новых пользователей</span></span>
<span id="cb33-3"><a href="метрики-монетизации-pt.html#cb33-3" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments[user_pseudo_id <span class="sc">%in%</span> installs[, <span class="fu">unique</span>(user_pseudo_id)]]</span>
<span id="cb33-4"><a href="метрики-монетизации-pt.html#cb33-4" tabindex="-1"></a></span>
<span id="cb33-5"><a href="метрики-монетизации-pt.html#cb33-5" tabindex="-1"></a><span class="co"># прикрепляем к ним медиасорсы</span></span>
<span id="cb33-6"><a href="метрики-монетизации-pt.html#cb33-6" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> <span class="fu">merge</span>(</span>
<span id="cb33-7"><a href="метрики-монетизации-pt.html#cb33-7" tabindex="-1"></a>  payments_new,</span>
<span id="cb33-8"><a href="метрики-монетизации-pt.html#cb33-8" tabindex="-1"></a>  installs[, <span class="fu">list</span>(user_pseudo_id, dt, media_source)],</span>
<span id="cb33-9"><a href="метрики-монетизации-pt.html#cb33-9" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">&#39;user_pseudo_id&#39;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span></span>
<span id="cb33-10"><a href="метрики-монетизации-pt.html#cb33-10" tabindex="-1"></a>)</span>
<span id="cb33-11"><a href="метрики-монетизации-pt.html#cb33-11" tabindex="-1"></a></span>
<span id="cb33-12"><a href="метрики-монетизации-pt.html#cb33-12" tabindex="-1"></a><span class="co"># вычисляем лайфтайм</span></span>
<span id="cb33-13"><a href="метрики-монетизации-pt.html#cb33-13" tabindex="-1"></a>payments_new[, lifetime <span class="sc">:=</span> pay_dt <span class="sc">-</span> dt]</span>
<span id="cb33-14"><a href="метрики-монетизации-pt.html#cb33-14" tabindex="-1"></a></span>
<span id="cb33-15"><a href="метрики-монетизации-pt.html#cb33-15" tabindex="-1"></a><span class="co"># корректируем на окно лайфтайма</span></span>
<span id="cb33-16"><a href="метрики-монетизации-pt.html#cb33-16" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments_new[dt <span class="sc">&lt;</span> <span class="st">&#39;2022-07-01&#39;</span>]</span>
<span id="cb33-17"><a href="метрики-монетизации-pt.html#cb33-17" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments_new[lifetime <span class="sc">&lt;=</span> <span class="dv">30</span>]</span>
<span id="cb33-18"><a href="метрики-монетизации-pt.html#cb33-18" tabindex="-1"></a>payments_new <span class="ot">&lt;-</span> payments_new[lifetime <span class="sc">&gt;=</span> <span class="dv">0</span>]</span>
<span id="cb33-19"><a href="метрики-монетизации-pt.html#cb33-19" tabindex="-1"></a></span>
<span id="cb33-20"><a href="метрики-монетизации-pt.html#cb33-20" tabindex="-1"></a></span>
<span id="cb33-21"><a href="метрики-монетизации-pt.html#cb33-21" tabindex="-1"></a><span class="co"># считаем платежи</span></span>
<span id="cb33-22"><a href="метрики-монетизации-pt.html#cb33-22" tabindex="-1"></a>payments_new_stat <span class="ot">&lt;-</span> payments_new[, <span class="fu">list</span>(<span class="at">gross =</span> <span class="fu">sum</span>(gross)), </span>
<span id="cb33-23"><a href="метрики-монетизации-pt.html#cb33-23" tabindex="-1"></a>                                  by <span class="ot">=</span> <span class="fu">list</span>(media_source, lifetime)]</span>
<span id="cb33-24"><a href="метрики-монетизации-pt.html#cb33-24" tabindex="-1"></a></span>
<span id="cb33-25"><a href="метрики-монетизации-pt.html#cb33-25" tabindex="-1"></a><span class="co"># сортируем и делаем кумулятивную сумму</span></span>
<span id="cb33-26"><a href="метрики-монетизации-pt.html#cb33-26" tabindex="-1"></a>payments_new_stat <span class="ot">&lt;-</span> payments_new_stat[<span class="fu">order</span>(media_source, lifetime)]</span>
<span id="cb33-27"><a href="метрики-монетизации-pt.html#cb33-27" tabindex="-1"></a>payments_new_stat[, gross_cum <span class="sc">:=</span> <span class="fu">cumsum</span>(gross), by <span class="ot">=</span> media_source]</span>
<span id="cb33-28"><a href="метрики-монетизации-pt.html#cb33-28" tabindex="-1"></a></span>
<span id="cb33-29"><a href="метрики-монетизации-pt.html#cb33-29" tabindex="-1"></a><span class="co"># считаем, сколько всего пользователей пришло</span></span>
<span id="cb33-30"><a href="метрики-монетизации-pt.html#cb33-30" tabindex="-1"></a>installs_stat <span class="ot">&lt;-</span> installs[, <span class="fu">list</span>(<span class="at">total_users =</span> <span class="fu">uniqueN</span>(user_pseudo_id)), by <span class="ot">=</span> media_source]</span>
<span id="cb33-31"><a href="метрики-монетизации-pt.html#cb33-31" tabindex="-1"></a></span>
<span id="cb33-32"><a href="метрики-монетизации-pt.html#cb33-32" tabindex="-1"></a>payments_new_stat <span class="ot">&lt;-</span> <span class="fu">merge</span>(</span>
<span id="cb33-33"><a href="метрики-монетизации-pt.html#cb33-33" tabindex="-1"></a>  payments_new_stat,</span>
<span id="cb33-34"><a href="метрики-монетизации-pt.html#cb33-34" tabindex="-1"></a>  installs_stat,</span>
<span id="cb33-35"><a href="метрики-монетизации-pt.html#cb33-35" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">&#39;media_source&#39;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span></span>
<span id="cb33-36"><a href="метрики-монетизации-pt.html#cb33-36" tabindex="-1"></a>)</span>
<span id="cb33-37"><a href="метрики-монетизации-pt.html#cb33-37" tabindex="-1"></a>payments_new_stat[, cumARPU <span class="sc">:=</span> gross_cum <span class="sc">/</span> total_users]</span>
<span id="cb33-38"><a href="метрики-монетизации-pt.html#cb33-38" tabindex="-1"></a></span>
<span id="cb33-39"><a href="метрики-монетизации-pt.html#cb33-39" tabindex="-1"></a><span class="co"># рисуем</span></span>
<span id="cb33-40"><a href="метрики-монетизации-pt.html#cb33-40" tabindex="-1"></a><span class="fu">plot_ly</span>(payments_new_stat, <span class="at">x =</span> <span class="sc">~</span>lifetime, <span class="at">y =</span> <span class="sc">~</span>cumARPU, <span class="at">color =</span> <span class="sc">~</span>media_source,</span>
<span id="cb33-41"><a href="метрики-монетизации-pt.html#cb33-41" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="at">mode =</span> <span class="st">&#39;lines&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-42"><a href="метрики-монетизации-pt.html#cb33-42" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb33-43"><a href="метрики-монетизации-pt.html#cb33-43" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&#39;cARPU по источникам трафика&#39;</span>,</span>
<span id="cb33-44"><a href="метрики-монетизации-pt.html#cb33-44" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">rangemode =</span> <span class="st">&#39;tozero&#39;</span>)</span>
<span id="cb33-45"><a href="метрики-монетизации-pt.html#cb33-45" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-46"><a href="метрики-монетизации-pt.html#cb33-46" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)  </span></code></pre></div>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-22385b8eb11d21ffad14" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-22385b8eb11d21ffad14">{"x":{"visdat":{"b958b84ae49":["function () ","plotlyVisDat"]},"cur_data":"b958b84ae49","attrs":{"b958b84ae49":{"x":{},"y":{},"mode":"lines","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"cARPU по источникам трафика","yaxis":{"domain":[0,1],"automargin":true,"rangemode":"tozero","title":"cumARPU"},"xaxis":{"domain":[0,1],"automargin":true,"title":"lifetime"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,23,25,27,28,29,30],"y":[0.16789514263685434,0.28882806476484202,0.32498843484965306,0.34110254433307641,0.35650732459521978,0.41440246723207402,0.47222050886661526,0.47992289899768698,0.48846569005397078,0.50316114109483423,0.52626831148804942,0.52933693138010796,0.54628373168851196,0.5602158828064765,0.58100231303006944,0.58484965304548964,0.5925520431765614,0.60178874325366238,0.60949113338473404,0.61179645335389365,0.61410177332305316,0.63721665381649961,0.68190439475713194,0.70501927525057828],"mode":"lines","type":"scatter","name":"Facebook Ads","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"y":[0.12762480308544524,0.21906350154815268,0.28913982291270229,0.33457031886576877,0.37864088217719261,0.43238904883480578,0.46575968276386226,0.49682953989895923,0.52955076321364225,0.56602042479221792,0.59303900266173837,0.62182057689173464,0.64553886685859863,0.6683513498832061,0.69170786028572673,0.72171953935574684,0.74138003150632537,0.76853549894073248,0.79496387636481858,0.81607338801672791,0.83471264055624672,0.85771742082676661,0.88037074257156533,0.89873540116247186,0.91764435873757111,0.93721033190287084,0.96345184420663521,0.98130751262968918,0.99945705904720228,1.0301808897821689,1.0471668748981449],"mode":"lines","type":"scatter","name":"applovin_int","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"y":[0.072965011577051792,0.12073449961409839,0.15979933110367908,0.18485593002315423,0.21094803190120931,0.25118214561358387,0.26917031129405727,0.28306663236429142,0.30698096218163123,0.31984178029328547,0.33657962438898908,0.35136223308464126,0.36922433753537448,0.38374581939799346,0.39710445073321343,0.40121044507332149,0.41341394391561631,0.41958708515564719,0.4372047851813739,0.44285824543349639,0.44915230254695149,0.46110110625160805,0.46816568047337287,0.47844481605351186,0.48706457422176497,0.49502958579881667,0.52098662207357871,0.52830975045021877,0.54038847440185256,0.55349884229482915,0.565078466683818],"mode":"lines","type":"scatter","name":"googleadwords_int","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"y":[0.072439417576702192,0.13732639972265373,0.18392754376841525,0.21663910556422042,0.24450251343386858,0.26299722655572677,0.28521147512566958,0.312451898075921,0.3375597157219602,0.35589478245796297,0.37631097243889555,0.39045449817992517,0.40818911423123388,0.42361587796845007,0.441885595423815,0.45804333506673406,0.47828982492632843,0.49073721615531096,0.50120956838273345,0.51660703761483595,0.53734078696481002,0.55237268157392772,0.56770116137978666,0.58595406482925794,0.60171346853873975,0.61555070202807927,0.62836470792164834,0.64473097590570105,0.65610799098630423,0.66947547235222571,0.68000208008320151],"mode":"lines","type":"scatter","name":"organic","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"y":[0.03833719398646504,0.061050097651814565,0.076745696507244471,0.096247899350501973,0.10577689966843812,0.11957441976654412,0.13027660444202216,0.1362647045464869,0.14112458554753154,0.15351274015533461,0.15786574010991516,0.1640305218694646,0.17106099831948052,0.17559522187400656,0.18439206068038344,0.19024163146659409,0.19627333424172241,0.1997224871690059,0.209251487486942,0.21605986283326531,0.22794249897806251,0.23206749330063142,0.24091156833356053,0.24753236135713325,0.25084253077167656,0.25537857110414691,0.25855021120043614,0.26544488349911444,0.26812099741109158,0.27147885724667314,0.27483580869328256],"mode":"lines","type":"scatter","name":"unityads_int","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="полезные-материалы-3" class="section level2 unnumbered hasAnchor">
<h2>Полезные материалы<a href="метрики-монетизации-pt.html#полезные-материалы-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://fourweekmba.com/what-is-a-business-model/">What Is a Business Model? 30 Successful Types of Business Models You Need to Know</a> Коротко, что такое бизнес-модели, рассматриваются 30 разных моделей. Полезно для понимания, как вообще могут зарабатывать разные продукты.</p>
<p><a href="https://apptractor.ru/measure/user-analytics/osnovnyie-metriki-mobilnyih-prilozheniy.html">Основные метрики мобильных приложений</a> Очень обзорный материал от devtodev. Есть неплохой блок по метрикам монетизации.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="c5_monetization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="unit-экономика.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
